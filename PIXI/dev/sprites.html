<head>
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://thelx5.github.io/PIXI/dev/sprites.html">
    <meta property="og:title" content="Sprites creation | PIXI Documentation">
    <meta property="og:description" content="In depth information about custom sprites programming.">
    <meta name="theme-color" content="#6868D8">
    <meta property="og:image" content="https://raw.githubusercontent.com/TheLX5/TheLX5.github.io/master/PIXI/preview_thumbnail.png">
    <title>Sprites creation | PIXI Documentation</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div id="top">
        <h1>Sprites creation <a href="sprites.html" class="link">[Link]</a></h1>
        <p>In depth information about <b>custom sprites</b> programming.</p>
        <p class="note">WIP</p>
    </div>
    <hr>
    <div id="index">
        <h2>Content <a href="#index" class="link">[Link]</a></h2>
        <ul>
            <li><a href="#info">General information</a></li>
            <li><a href="#programming">Programming</a></li>
            <li><a href="#defines">Defines</a></li>
            <ul>
                <!--
                <li><a href="#defines-pixi-const">PIXI constants</a></li>
                -->
                <li><a href="#defines-pixi-ram">PIXI defined RAM</a></li>
                <li><a href="#defines-original">Original game RAM</a></li>
                <!--
                <li><a href="#"></a></li>
                -->
            </ul>
            <li><a href="#routines">Shared routines</a></li>
            <ul>
                <li><a href="#routines-exclusive">Sprite only routines</a></li>
                <ul>
                    <li><a href="#routine-lde">%LDE()</a></li>
                    <li><a href="#routine-get-draw-info">%GetDrawInfo()</a></li>
                    <li><a href="#routine-finish-oam-write">%FinishOAMWrite()</a></li>
                    <li><a href="#routine-sub-off-screen">%SubOffScreen()</a></li>
                    <li><a href="#routine-sub-horz-pos">%SubHorzPos()</a></li>
                    <li><a href="#routine-sub-vert-pos">%SubVertPos()</a></li>
                    <li><a href="#routine-cape-contact">%CapeContact()</a></li>
                </ul>
                <li><a href="#routines-spawn">Spawn sprite routines</a></li>
                <ul>
                    <li><a href="#routine-spawn-extended">%SpawnExtended()</a></li>
                    <li><a href="#routine-spawn-minor-extended">%SpawnMinorExtended()</a></li>
                    <li><a href="#routine-spawn-score">%SpawnScore()</a></li>
                    <li><a href="#routine-spawn-smoke">%SpawnSmoke()</a></li>
                    <li><a href="#routine-spawn-cluster">%SpawnCluster()</a></li>
                    <li><a href="#routine-spawn-spinning-coin">%SpawnSpinningCoin()</a></li>
                </ul>
                <!--
                <li><a href="#"></a></li>
                -->
            </ul>
            <!--
            <li><a href="#"></a></li>
            -->
        </ul>
    </div>
    <hr>
    <div id="info">
        <h2>General information <a href="#info" class="link">[Link]</a></h2>
        <p class="note">WIP</p>
        <p><a href="#top">[Back to top]</a></p>
    </div>
    <hr>
    <div id="programming">
        <h2>Programming <a href="#programming" class="link">[Link]</a></h2>
        <p class="note">WIP</p>
        <p><a href="#top">[Back to top]</a></p>
    </div>
    <hr>
    <div id="defines">
        <h2>Defines <a href="#defines" class="link">[Link]</a></h2>
        <p class="note">WIP</p>
        <!--
        <h3>PIXI constants <a href="#defines-pixi-const" class="link">[Link]</a></h3>
        <table>
            <tr>
                <th class="defines-define">Define</th>
                <th class="defines-ram">Value</th>
                <th class="defines-desc">Description</th>
            </tr>
            <tr id="">
                <td class="defines-define"><icode></icode> <a href="#" class="link">[Link]</a></td>
                <td class="defines-ram"><icode></icode></td>
                <td class="defines-desc"></td>
            </tr>
        </table>
        -->
        <h3 id="defines-pixi-ram">PIXI defined RAM <a href="#defines-pixi-ram" class="link">[Link]</a></h3>
        <table>
            <tr>
                <th class="defines-define">Define</th>
                <th class="defines-ram">RAM address<br>LoROM</th>
                <th class="defines-ram">RAM address<br>SA-1</th>
                <th class="defines-desc">Description</th>
            </tr>
            <tr id="7FAB10">
                <td class="defines-define"><icode>!extra_bits</icode> <a href="#7FAB10" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$7FAB10</icode></td>
                <td class="defines-ram"><icode>$6040</icode></td>
                <td class="defines-desc">Extra bits</td>
            </tr>
            <tr id="7FAB1C">
                <td class="defines-define"><icode>!new_code_flag</icode> <a href="#7FAB1C" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$7FAB1C</icode></td>
                <td class="defines-ram"><icode>$6056</icode></td>
                <td class="defines-desc">New code flag</td>
            </tr>
            <tr id="7FAB28">
                <td class="defines-define"><icode>!extra_prop_1</icode> <a href="#7FAB28" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$7FAB28</icode></td>
                <td class="defines-ram"><icode>$6057</icode></td>
                <td class="defines-desc">Extra property byte 1</td>
            </tr>
            <tr id="7FAB34">
                <td class="defines-define"><icode>!extra_prop_2</icode> <a href="#7FAB34" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$7FAB34</icode></td>
                <td class="defines-ram"><icode>$606D</icode></td>
                <td class="defines-desc">Extra property byte 2</td>
            </tr>
            <tr id="7FAB9E">
                <td class="defines-define"><icode>!new_sprite_num</icode> <a href="#7FAB9E" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$7FAB9E</icode></td>
                <td class="defines-ram"><icode>$6083</icode></td>
                <td class="defines-desc">Custom sprite number</td>
            </tr>
            <tr id="7FAB40">
                <td class="defines-define"><icode>!extra_byte_1</icode> <a href="#7FAB40" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$7FAB40</icode></td>
                <td class="defines-ram"><icode>$6099</icode></td>
                <td class="defines-desc">Extra byte 1</td>
            </tr>
            <tr id="7FAB4C">
                <td class="defines-define"><icode>!extra_byte_2</icode> <a href="#7FAB4C" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$7FAB4C</icode></td>
                <td class="defines-ram"><icode>$60AF</icode></td>
                <td class="defines-desc">Extra byte 2</td>
            </tr>
            <tr id="7FAB58">
                <td class="defines-define"><icode>!extra_byte_3</icode> <a href="#7FAB58" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$7FAB58</icode></td>
                <td class="defines-ram"><icode>$60C5</icode></td>
                <td class="defines-desc">Extra byte 3</td>
            </tr>
            <tr id="7FAB64">
                <td class="defines-define"><icode>!extra_byte_4</icode> <a href="#7FAB64" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$7FAB64</icode></td>
                <td class="defines-ram"><icode>$60DB</icode></td>
                <td class="defines-desc">Extra byte 4</td>
            </tr>
            <!--
            <tr id="">
                <td class="defines-define"><icode></icode> <a href="#" class="link">[Link]</a></td>
                <td class="defines-ram"><icode></icode></td>
                <td class="defines-ram"><icode></icode></td>
                <td class="defines-desc"></td>
            </tr>
            -->
        </table>
        <h3 id="defines-original">Original game RAM <a href="#defines-original" class="link">[Link]</a></h3>
        <table>
            <tr>
                <th class="defines-define">Define</th>
                <th class="defines-ram">RAM address<br>LoROM</th>
                <th class="defines-ram">RAM address<br>SA-1</th>
                <th class="defines-desc">Description</th>
            </tr>
            <tr id="9E">
                <td class="defines-define"><icode>!sprite_num</icode> <a href="#9E" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$9E</icode></td>
                <td class="defines-ram"><icode>$3200</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="AA">
                <td class="defines-define"><icode>!sprite_speed_y</icode> <a href="#AA" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$AA</icode></td>
                <td class="defines-ram"><icode>$9E</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="B6">
                <td class="defines-define"><icode>!sprite_speed_x</icode> <a href="#B6" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$B6</icode></td>
                <td class="defines-ram"><icode>$B6</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="C2">
                <td class="defines-define"><icode>!sprite_misc_c2</icode> <a href="#C2" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$C2</icode></td>
                <td class="defines-ram"><icode>$D8</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="D8">
                <td class="defines-define"><icode>!sprite_y_low</icode> <a href="#D8" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$D8</icode></td>
                <td class="defines-ram"><icode>$3216</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="E4">
                <td class="defines-define"><icode>!sprite_x_low</icode> <a href="#E4" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$E4</icode></td>
                <td class="defines-ram"><icode>$322C</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="14C8">
                <td class="defines-define"><icode>!sprite_status</icode> <a href="#14C8" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$14C8</icode></td>
                <td class="defines-ram"><icode>$3242</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="14D4">
                <td class="defines-define"><icode>!sprite_y_high</icode> <a href="#14D4" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$14D4</icode></td>
                <td class="defines-ram"><icode>$3258</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="14E0">
                <td class="defines-define"><icode>!sprite_x_high</icode> <a href="#14E0" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$14E0</icode></td>
                <td class="defines-ram"><icode>$326E</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="14EC">
                <td class="defines-define"><icode>!sprite_speed_y_frac</icode> <a href="#14EC" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$14EC</icode></td>
                <td class="defines-ram"><icode>$74C8</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="14F8">
                <td class="defines-define"><icode>!sprite_speed_x_frac</icode> <a href="#14F8" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$14F8</icode></td>
                <td class="defines-ram"><icode>$74DE</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1504">
                <td class="defines-define"><icode>!sprite_misc_1504</icode> <a href="#1504" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1504</icode></td>
                <td class="defines-ram"><icode>$74F4</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1510">
                <td class="defines-define"><icode>!sprite_misc_1510</icode> <a href="#1510" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1510</icode></td>
                <td class="defines-ram"><icode>$750A</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="151C">
                <td class="defines-define"><icode>!sprite_misc_151c</icode> <a href="#151C" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$151C</icode></td>
                <td class="defines-ram"><icode>$3284</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1528">
                <td class="defines-define"><icode>!sprite_misc_1528</icode> <a href="#1528" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1528</icode></td>
                <td class="defines-ram"><icode>$329A</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1534">
                <td class="defines-define"><icode>!sprite_misc_1534</icode> <a href="#1534" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1534</icode></td>
                <td class="defines-ram"><icode>$32B0</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1540">
                <td class="defines-define"><icode>!sprite_misc_1540</icode> <a href="#1540" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1540</icode></td>
                <td class="defines-ram"><icode>$32C6</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="154C">
                <td class="defines-define"><icode>!sprite_misc_154c</icode> <a href="#154C" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$154C</icode></td>
                <td class="defines-ram"><icode>$32DC</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1558">
                <td class="defines-define"><icode>!sprite_misc_1558</icode> <a href="#1558" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1558</icode></td>
                <td class="defines-ram"><icode>$32F2</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1564">
                <td class="defines-define"><icode>!sprite_misc_1564</icode> <a href="#1564" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1564</icode></td>
                <td class="defines-ram"><icode>$3308</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1570">
                <td class="defines-define"><icode>!sprite_misc_1570</icode> <a href="#1570" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1570</icode></td>
                <td class="defines-ram"><icode>$331E</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="157C">
                <td class="defines-define"><icode>!sprite_misc_157c</icode> <a href="#157C" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$157C</icode></td>
                <td class="defines-ram"><icode>$3334</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1588">
                <td class="defines-define"><icode>!sprite_blocked_status</icode> <a href="#1588" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1588</icode></td>
                <td class="defines-ram"><icode>$334A</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1594">
                <td class="defines-define"><icode>!sprite_misc_1594</icode> <a href="#1594" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1594</icode></td>
                <td class="defines-ram"><icode>$3360</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="15A0">
                <td class="defines-define"><icode>!sprite_off_screen_horz</icode> <a href="#15A0" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$15A0</icode></td>
                <td class="defines-ram"><icode>$3376</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="15AC">
                <td class="defines-define"><icode>!sprite_misc_15ac</icode> <a href="#15AC" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$15AC</icode></td>
                <td class="defines-ram"><icode>$338C</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="15B8">
                <td class="defines-define"><icode>!sprite_slope</icode> <a href="#15B8" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$15B8</icode></td>
                <td class="defines-ram"><icode>$7520</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="15C4">
                <td class="defines-define"><icode>!sprite_off_screen</icode> <a href="#15C4" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$15C4</icode></td>
                <td class="defines-ram"><icode>$7536</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="15D0">
                <td class="defines-define"><icode>!sprite_being_eaten</icode> <a href="#15D0" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$15D0</icode></td>
                <td class="defines-ram"><icode>$754C</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="15DC">
                <td class="defines-define"><icode>!sprite_obj_interact</icode> <a href="#15DC" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$15DC</icode></td>
                <td class="defines-ram"><icode>$7562</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="15EA">
                <td class="defines-define"><icode>!sprite_oam_index</icode> <a href="#15EA" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$15EA</icode></td>
                <td class="defines-ram"><icode>$33A2</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="15F6">
                <td class="defines-define"><icode>!sprite_oam_properties</icode> <a href="#15F6" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$15F6</icode></td>
                <td class="defines-ram"><icode>$33B8</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1602">
                <td class="defines-define"><icode>!sprite_misc_1602</icode> <a href="#1602" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1602</icode></td>
                <td class="defines-ram"><icode>$33CE</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="160E">
                <td class="defines-define"><icode>!sprite_misc_160e</icode> <a href="#160E" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$160E</icode></td>
                <td class="defines-ram"><icode>$33E4</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="161A">
                <td class="defines-define"><icode>!sprite_index_in_level</icode> <a href="#161A" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$161A</icode></td>
                <td class="defines-ram"><icode>$7578</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1626">
                <td class="defines-define"><icode>!sprite_misc_1626</icode> <a href="#1626" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1626</icode></td>
                <td class="defines-ram"><icode>$758E</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1632">
                <td class="defines-define"><icode>!sprite_behind_scenery</icode> <a href="#1632" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1632</icode></td>
                <td class="defines-ram"><icode>$75A4</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="163E">
                <td class="defines-define"><icode>!sprite_misc_163e</icode> <a href="#163E" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$163E</icode></td>
                <td class="defines-ram"><icode>$33FA</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="164A">
                <td class="defines-define"><icode>!sprite_in_water</icode> <a href="#164A" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$164A</icode></td>
                <td class="defines-ram"><icode>$75BA</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1656">
                <td class="defines-define"><icode>!sprite_tweaker_1656</icode> <a href="#1656" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1656</icode></td>
                <td class="defines-ram"><icode>$75D0</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1662">
                <td class="defines-define"><icode>!sprite_tweaker_1662</icode> <a href="#1662" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1662</icode></td>
                <td class="defines-ram"><icode>$75EA</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="166E">
                <td class="defines-define"><icode>!sprite_tweaker_166e</icode> <a href="#166E" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$166E</icode></td>
                <td class="defines-ram"><icode>$7600</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="167A">
                <td class="defines-define"><icode>!sprite_tweaker_167a</icode> <a href="#167A" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$167A</icode></td>
                <td class="defines-ram"><icode>$7616</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1686">
                <td class="defines-define"><icode>!sprite_tweaker_1686</icode> <a href="#1686" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1686</icode></td>
                <td class="defines-ram"><icode>$762C</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="186C">
                <td class="defines-define"><icode>!sprite_off_screen_vert</icode> <a href="#186C" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$186C</icode></td>
                <td class="defines-ram"><icode>$7642</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="187B">
                <td class="defines-define"><icode>!sprite_misc_187b</icode> <a href="#187B" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$187B</icode></td>
                <td class="defines-ram"><icode>$3410</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="7FAF00">
                <td class="defines-define"><icode>!sprite_load_table</icode> <a href="#7FAF00" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$7FAF00</icode></td>
                <td class="defines-ram"><icode>$418A00</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="190F">
                <td class="defines-define"><icode>!sprite_tweaker_190f</icode> <a href="#190F" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$190F</icode></td>
                <td class="defines-ram"><icode>$7658</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1FD6">
                <td class="defines-define"><icode>!sprite_misc_1fd6</icode> <a href="#1FD6" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1FD6</icode></td>
                <td class="defines-ram"><icode>$766E</icode></td>
                <td class="defines-desc"></td>
            </tr>
            <tr id="1FE2">
                <td class="defines-define"><icode>!sprite_cape_disable_time</icode> <a href="#1FE2" class="link">[Link]</a></td>
                <td class="defines-ram"><icode>$1FE2</icode></td>
                <td class="defines-ram"><icode>$7FD6</icode></td>
                <td class="defines-desc"></td>
            </tr>
        </table>
        <p><a href="#top">[Back to top]</a></p>
    </div>
    <hr>
    <div id="routines">
        <h2>Shared routines <a href="#routines" class="link">[Link]</a></h2>
        <p class="note">WIP</p>
        <h3 id="routines-exclusive">Sprite-only routines</h3>
        <table>
            <tr>
                <th class="routines-macro">Macro</th>
                <th class="routines-io">Input</th>
                <th class="routines-io">Output</th>
                <th>Description</th>
            </tr>
            <tr id="routine-lde">
                <td class="routines-macro">
                    <icode>%LDE()</icode> <a href="#routine-lde" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>X</icode> = Sprite index</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>A</icode> = Extra bit flag (bit 3)</li>
                    </ul>
                </td>
                <td class="routines-description">
                    Loads the extra bit flag into <icode>A</icode>.
                </td>
            </tr>
            <tr id="routine-get-draw-info">
                <td class="routines-macro">
                    <icode>%GetDrawInfo()</icode> <a href="#routine-get-draw-info" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>X</icode> = Sprite index</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>Y</icode> = index to sprite OAM (<icode><a href="#15EA">$15EA</a></icode>)</li>
                        <li><icode>$00</icode> = Sprite <b>X</b> position relative to screen border</li>
                        <li><icode>$01</icode> = Sprite <b>Y</b> position relative to screen border</li>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>This is a helper for the graphics routine. It sets off screen flags (<icode><a href="#15A0">$15A0</a></icode>, <icode><a href="#186C">$186C</a></icode>) and setups variables used in sprite drawing routines.</p>
                    <p><b>WARNING:</b> This routine modifies the stack when a sprite isn't meant to be drawn on screen, it executes a destructive return that destroys the current <icode>JSL</icode> and expects a 16-bit return address in the next 2 bytes from the stack. If your graphics routine isn't in a <icode>JSR</icode> subroutine it'll lead into a crash.</p>
                </td>
            </tr>
            <tr id="routine-finish-oam-write">
                <td class="routines-macro">
                    <icode>%FinishOAMWrite()</icode> <a href="#routine-finish-oam-write" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>X</icode> = Sprite index</li>
                        <li><icode>A</icode> = Number of tiles to draw - 1</li>
                        <li><icode>Y</icode> = Tile size</li>
                        <ul>
                            <li><icode>$00</icode> = 8x8 tiles</li>
                            <li><icode>$02</icode> = 16x16 tiles</li>
                            <li><icode>$FF</icode> = Manually set the size</li>
                        </ul>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li>N/A</li>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>Optimized finishOAMWrite - routine by Akaginite</p>
                </td>
            </tr>
            <tr id="routine-sub-off-screen">
                <td class="routines-macro">
                    <icode>%SubOffScreen()</icode> <a href="#routine-sub-off-screen" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>X</icode> = Sprite index</li>
                        <li><icode>A</icode> = Off screen range index</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li>N/A</li>
                    </ul>
                </td>
                <td class="routines-description">
                    <p></p>
                </td>
            </tr>
            <tr id="routine-sub-horz-pos">
                <td class="routines-macro">
                    <icode>%SubHorzPos()</icode> <a href="#routine-sub-horz-pos" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>X</icode> = Sprite index</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>Y</icode> = Which side of the sprite is the player at</li>
                        <ul>
                            <li><icode>$00</icode> = Mario to the <b>right</b> of the sprite</li>
                            <li><icode>$01</icode> = Mario to the <b>left</b> of the sprite</li>
                        </ul>
                        <li><icode>$0E</icode> = Amount of pixels between Mario - Sprite X positions (16-bit)</li>
                    </ul>
                </td>
                <td class="routines-description">
                    <p></p>
                </td>
            </tr>
            <tr id="routine-sub-vert-pos">
                <td class="routines-macro">
                    <icode>%SubVertPos()</icode> <a href="#routine-sub-vert-pos" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>X</icode> = Sprite index</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>Y</icode> = Which side of the sprite is the player at</li>
                        <ul>
                            <li><icode>$00</icode> = Player is <b>???</b> the sprite</li>
                            <li><icode>$01</icode> = Player is <b>¿¿¿</b> the sprite</li>
                        </ul>
                        <li><icode>$0F</icode> = Amount of pixels between Mario - Sprite Y positions (8-bit)</li>
                    </ul>
                </td>
                <td class="routines-description">
                    <p></p>
                </td>
            </tr>
            <tr id="routine-cape-contact">
                <td class="routines-macro">
                    <icode>%CapeContact()</icode> <a href="#routine-cape-contact" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>X</icode> = Sprite index</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>C</icode> = Contact status</li>
                        <ul>
                            <li>Set = Contact detected</li> 
                            <li>Clear = No contact</li>
                        </ul>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>Checks for contact between the current sprite and the player's cape.</p>
                    <p>Taken from GIEPY's routines.</p>
                </td>
            </tr>
            <tr id="routine-star">
                <td class="routines-macro">
                    <icode>%Star()</icode> <a href="#routine-star" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>X</icode> = Sprite index</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li>N/A</li>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>Star kills the sprite and gives the player points.</p>
                    <p>The routine doesn't check whether the player actually has a star or the sprite is in contact with the player.</p>
                </td>
            </tr>
            <!--
            <tr id="routine-">
                <td class="routines-macro">
                    <icode>%()</icode> <a href="#routine-" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>X</icode> = Sprite index</li>
                        <li><icode> </icode> = </li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode> </icode> = </li>
                    </ul>
                </td>
                <td class="routines-description">
                    <p></p>
                </td>
            </tr>
            ---->
        </table>
        <h3 id="routines-spawn">Spawn sprite routines</h3>
        <table>
            <tr>
                <th class="routines-macro">Macro</th>
                <th class="routines-io">Input</th>
                <th class="routines-io">Output</th>
                <th class="routines-description">Description</th>
            </tr>
            <tr id="routine-spawn-sprite">
                <td class="routines-macro">
                    <icode>%SpawnSprite()</icode> <a href="#routine-spawn-sprite" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>A</icode> = Sprite number</li>
                        <li><icode>X</icode> = Parent sprite index</li>
                        <li><icode>C</icode> = Custom sprite flag</li>
                        <ul>
                            <li>Clear = Regular sprite</li>
                            <li>Set = Custom sprite</li>
                        </ul>
                        <li><icode>$00</icode> = X offset</li>
                        <li><icode>$01</icode> = Y offset</li>
                        <li><icode>$02</icode> = X speed</li>
                        <li><icode>$03</icode> = Y speed</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>Y</icode> = Index to extended sprite (<icode>$FF</icode> means no sprite spawned)</li>
                        <li><icode>C</icode> = Spawn status.</li>
                            <ul>
                                <li><icode>Set</icode> = Spawn failed</li>
                                <li><icode>Clear</icode> = Spawn succesful</li>
                            </ul>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>Spawns an extended sprite at the sprite position plus an offset.</p>
                    <p>If X and/or Y offsets are negative, those values will be substracted instead of added from the parent sprite's position.</p>
                </td>
            </tr>
            <tr id="routine-spawn-sprite-safe">
                <td class="routines-macro">
                    <icode>%SpawnSpriteSafe()</icode> <a href="#routine-spawn-sprite-safe" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>A</icode> = Sprite number</li>
                        <li><icode>X</icode> = Parent sprite index</li>
                        <li><icode>C</icode> = Custom sprite flag</li>
                        <ul>
                            <li>Clear = Regular sprite</li>
                            <li>Set = Custom sprite</li>
                        </ul>
                        <li><icode>$00</icode> = X offset</li>
                        <li><icode>$01</icode> = Y offset</li>
                        <li><icode>$02</icode> = X speed</li>
                        <li><icode>$03</icode> = Y speed</li>
                        <li><icode>$04</icode> = Starting sprite index</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>Y</icode> = Index to extended sprite (<icode>$FF</icode> means no sprite spawned)</li>
                        <li><icode>C</icode> = Spawn status.</li>
                            <ul>
                                <li><icode>Set</icode> = Spawn failed</li>
                                <li><icode>Clear</icode> = Spawn succesful</li>
                            </ul>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>Spawns a regular sprite at the sprite position plus an offset.</p>
                    <p>If X and/or Y offsets are negative, those values will be substracted instead of added from the parent sprite's position.</p>
                </td>
            </tr>
            <tr id="routine-spawn-extended">
                <td class="routines-macro">
                    <icode>%SpawnExtended()</icode> <a href="#routine-spawn-extended" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>A</icode> = Extended sprite number</li>
                        <li><icode>X</icode> = Parent sprite index</li>
                        <li><icode>$00</icode> = X offset</li>
                        <li><icode>$01</icode> = Y offset</li>
                        <li><icode>$02</icode> = X speed</li>
                        <li><icode>$03</icode> = Y speed</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>Y</icode> = Index to extended sprite (<icode>$FF</icode> means no sprite spawned)</li>
                        <li><icode>C</icode> = Spawn status.</li>
                            <ul>
                                <li><icode>Set</icode> = Spawn failed</li>
                                <li><icode>Clear</icode> = Spawn succesful</li>
                            </ul>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>Spawns an extended sprite at the sprite position plus an offset. If the parent sprite is offscreen or being eaten, the sprite will not be spawned.</p>
                    <p>If X and/or Y offsets are negative, those values will be substracted instead of added from the parent sprite's position.</p>
                </td>
            </tr>
            <tr id="routine-spawn-cluster">
                <td class="routines-macro">
                    <icode>%SpawnCluster()</icode> <a href="#routine-spawn-cluster" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>A</icode> = Cluster sprite number</li>
                        <li><icode>X</icode> = Parent sprite index</li>
                        <li><icode>$00</icode> = X offset</li>
                        <li><icode>$01</icode> = Y offset</li>
                        <li><icode>$02</icode> = X speed</li>
                        <li><icode>$03</icode> = Y speed</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>Y</icode> = Index to cluster sprite (<icode>$FF</icode> means no sprite spawned)</li>
                        <li><icode>C</icode> = Spawn status.</li>
                            <ul>
                                <li><icode>Set</icode> = Spawn failed</li>
                                <li><icode>Clear</icode> = Spawn succesful</li>
                            </ul>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>Spawns a cluster sprite at the sprite position plus an offset.</p>
                    <p>If X and/or Y offsets are negative, those values will be substracted instead of added from the parent sprite's position.</p>
                    <p>The routine calls a generic spawn routine which depends on <icode>%SetupCoords()</icode> to get the parent sprite's position.</p>
                </td>
            </tr>
            <tr id="routine-spawn-minor-extended">
                <td class="routines-macro">
                    <icode>%SpawnMinorExtended()</icode> <a href="#routine-spawn-minor-extended" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>A</icode> = Minor extended sprite number</li>
                        <li><icode>X</icode> = Parent sprite index</li>
                        <li><icode>$00</icode> = X offset</li>
                        <li><icode>$01</icode> = Y offset</li>
                        <li><icode>$02</icode> = X speed</li>
                        <li><icode>$03</icode> = Y speed</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>Y</icode> = Index to the minor extended sprite (<icode>$FF</icode> means no sprite spawned)</li>
                        <li><icode>C</icode> = Spawn status.</li>
                            <ul>
                                <li><icode>Set</icode> = Spawn failed</li>
                                <li><icode>Clear</icode> = Spawn succesful</li>
                            </ul>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>Spawns a minor extended sprite at the sprite position plus an offset.</p>
                    <p>If X and/or Y offsets are negative, those values will be substracted instead of added from the parent sprite's position.</p>
                    <p>The routine calls a generic spawn routine which depends on <icode>%SetupCoords()</icode> to get the parent sprite's position.</p>
                </td>
            </tr>
            <tr id="routine-spawn-smoke">
                <td class="routines-macro">
                    <icode>%SpawnSmoke()</icode> <a href="#routine-spawn-smoke" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>A</icode> = Smoke sprite number</li>
                        <li><icode>X</icode> = Parent sprite index</li>
                        <li><icode>$00</icode> = X offset</li>
                        <li><icode>$01</icode> = Y offset</li>
                        <li><icode>$02</icode> = Timer</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>Y</icode> = Index to the spawned smoke sprite (<icode>$FF</icode> means no sprite spawned)</li>
                        <li><icode>C</icode> = Spawn status.</li>
                            <ul>
                                <li><icode>Set</icode> = Spawn failed</li>
                                <li><icode>Clear</icode> = Spawn succesful</li>
                            </ul>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>Spawns a smoke sprite at the sprite position plus an offset.</p>
                    <p>If X and/or Y offsets are negative, those values will be substracted instead of added from the parent sprite's position.</p>
                    <p>The routine calls a generic spawn routine which depends on <icode>%SetupCoords()</icode> to get the parent sprite's position.</p>
                </td>
            </tr>
            <tr id="routine-spawn-score">
                <td class="routines-macro">
                    <icode>%SpawnScore()</icode> <a href="#routine-spawn-score" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>A</icode> = Score sprite number</li>
                        <li><icode>X</icode> = Parent sprite index</li>
                        <li><icode>$00</icode> = X offset</li>
                        <li><icode>$01</icode> = Y offset</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>Y</icode> = Index to the spawned score sprite (<icode>$FF</icode> means no sprite spawned)</li>
                        <li><icode>C</icode> = Spawn status.</li>
                            <ul>
                                <li><icode>Set</icode> = Spawn failed</li>
                                <li><icode>Clear</icode> = Spawn succesful</li>
                            </ul>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>Spawns a score sprite at the sprite position plus an offset.</p>
                    <p>If X and/or Y offsets are negative, those values will be substracted instead of added from the parent sprite's position.</p>
                    <p>The routine calls a generic spawn routine which depends on <icode>%SetupCoords()</icode> to get the parent sprite's position.</p>
                </td>
            </tr>
            <tr id="routine-spawn-spinning-coin">
                <td class="routines-macro">
                    <icode>%SpawnSpinningCoin()</icode> <a href="#routine-spawn-spinning-coin" class="link">[Link]</a>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>A</icode> = Spinning coin sprite number</li>
                        <li><icode>X</icode> = Parent sprite index</li>
                        <li><icode>$00</icode> = X offset</li>
                        <li><icode>$01</icode> = Y offset</li>
                        <li><icode>$03</icode> = Y speed</li>
                    </ul>
                </td>
                <td class="routines-io">
                    <ul>
                        <li><icode>Y</icode> = Index to the spawned spinning coin sprite (<icode>$FF</icode> means no sprite spawned)</li>
                        <li><icode>C</icode> = Spawn status.</li>
                            <ul>
                                <li><icode>Set</icode> = Spawn failed</li>
                                <li><icode>Clear</icode> = Spawn succesful</li>
                            </ul>
                    </ul>
                </td>
                <td class="routines-description">
                    <p>Spawns a spinning coin sprite at the sprite position plus an offset.</p>
                    <p>If X and/or Y offsets are negative, those values will be substracted instead of added from the parent sprite's position.</p>
                    <p>The routine calls a generic spawn routine which depends on <icode>%SetupCoords()</icode> to get the parent sprite's position.</p>
                </td>
            </tr>
        </table>
        <p><a href="#top">[Back to top]</a></p>
    </div>
    <hr>
    <p><a href="../index.html">[Return to the main page]</a></p>
</body>